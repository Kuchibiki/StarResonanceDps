<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:skillBreakdown="clr-namespace:StarResonanceDpsAnalysis.WPF.Controls.SkillBreakdown"
                    xmlns:lex="http://wpflocalizeextension.codeplex.com"
                    xmlns:oxy="http://oxyplot.org/wpf">
    <skillBreakdown:NoZoomPlotController x:Key="SeriesPlotNoZoomController" x:Shared="False" />

    <Style TargetType="skillBreakdown:ChartPanel">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="skillBreakdown:ChartPanel">
                    <StackPanel>
                        <Border Style="{StaticResource ChartCardBorder}">
                            <StackPanel>
                                <Grid Margin="0,0,0,16">
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                        <Path
                                            Data="M2 2H4V13H19v2H4v2H2V15H0V13H2Zm4 8L8 6h2l3 2 4-8 1 2-4 8H12L9 8 8 11Z"
                                            Fill="#4C83FF"
                                            Style="{StaticResource ChartIcon}" />
                                        <TextBlock Style="{StaticResource ChartTitle}" Text="{Binding ChartTitle, RelativeSource={RelativeSource TemplatedParent}}" />
                                    </StackPanel>
                                </Grid>
                                <oxy:PlotView
                                    Height="200"
                                    Model="{Binding SeriesPlotModel, RelativeSource={RelativeSource TemplatedParent}}"
                                    Controller="{StaticResource SeriesPlotNoZoomController}" />
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource ChartCardBorder}">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,12" Orientation="Horizontal">
                                    <Path
                                        Data="M17 4c4 0 9 5 9 9H17m3 4H33c0 4-2 8-4 10M15 17l6 7c-4 3-8 3-12 0m4-11-7 8C1 14 6 4 13 4ZM15 0a1 1 90 000 29A1 1 90 0015 0"
                                        Fill="#738192"
                                        Style="{StaticResource ChartIcon}" />
                                    <TextBlock Style="{StaticResource ChartTitle}" Text="{TemplateBinding PieChartTitle}" />
                                </StackPanel>
                                <oxy:PlotView
                                    Height="200"
                                    Model="{Binding PiePlotModel, RelativeSource={RelativeSource TemplatedParent}}" />
                            </StackPanel>
                        </Border>

                        <Border Style="{StaticResource ChartCardBorder}">
                            <StackPanel>
                                <StackPanel Margin="0,0,0,16" Orientation="Horizontal">
                                    <Path
                                        Data="M0 3H2V9H0Zm4-3h2V9H4Zm4 5h2v4H8Z"
                                        Fill="#738192"
                                        Style="{StaticResource ChartIcon}" />
                                    <TextBlock Style="{StaticResource ChartTitle}" Text="{TemplateBinding HitTypeChartTitle}" />
                                </StackPanel>

                                <StackPanel Margin="0,8">
                                    <Grid Margin="0,0,0,16">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#64748B">
                                                <Run Text="{lex:Loc Key=Common_HitType_Lucky}" />
                                                <Run Text=" (" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text="{lex:Loc Key=SkillBreakdown_Suffix_Lucky}" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text=")" FontSize="12" Foreground="#94A3B8" />
                                            </TextBlock>
                                            <TextBlock Grid.Column="1" FontSize="13" FontWeight="Bold" Foreground="#1E293B">
                                                <Run Text="{Binding LuckyCount, StringFormat={}{0:N0}, RelativeSource={RelativeSource TemplatedParent}}" />
                                                <Run Text=" (" Foreground="#64748B" />
                                                <Run Text="{Binding LuckyRate, StringFormat={}{0:P1}, RelativeSource={RelativeSource TemplatedParent}}" Foreground="#FACC15" />
                                                <Run Text=")" Foreground="#64748B" />
                                            </TextBlock>
                                        </Grid>
                                        <Grid Grid.Row="1" Height="8">
                                            <Border Background="#F1F5F9" CornerRadius="4" />
                                            <Border Background="#FACC15" CornerRadius="4" HorizontalAlignment="Left">
                                                <Border.Width>
                                                    <MultiBinding Converter="{StaticResource RateToWidthConverter}">
                                                        <Binding Path="LuckyRate" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=Grid, AncestorLevel=1}"  />
                                                    </MultiBinding>
                                                </Border.Width>
                                            </Border>
                                        </Grid>
                                    </Grid>

                                    <Grid Margin="0,0,0,16">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#64748B">
                                                <Run Text="{lex:Loc Key=Common_HitType_Critical}" />
                                                <Run Text=" (" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text="{lex:Loc Key=SkillBreakdown_Suffix_Crits}" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text=")" FontSize="12" Foreground="#94A3B8" />
                                            </TextBlock>
                                            <TextBlock Grid.Column="1" FontSize="13" FontWeight="Bold" Foreground="#1E293B">
                                                <Run Text="{Binding CritCount, StringFormat={}{0:N0}, RelativeSource={RelativeSource TemplatedParent}}" />
                                                <Run Text=" (" Foreground="#64748B" />
                                                <Run Text="{Binding CritRate, StringFormat={}{0:P1}, RelativeSource={RelativeSource TemplatedParent}}" Foreground="#34D399" />
                                                <Run Text=")" Foreground="#64748B" />
                                            </TextBlock>
                                        </Grid>
                                        <Grid Grid.Row="1" Height="8">
                                            <Border Background="#F1F5F9" CornerRadius="4" />
                                            <Border Background="#34D399" CornerRadius="4" HorizontalAlignment="Left">
                                                <Border.Width>
                                                    <MultiBinding Converter="{StaticResource RateToWidthConverter}">
                                                        <Binding Path="CritRate" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=Grid, AncestorLevel=1}" />
                                                    </MultiBinding>
                                                </Border.Width>
                                            </Border>
                                        </Grid>
                                    </Grid>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>
                                        <Grid Grid.Row="0" Margin="0,0,0,8">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>
                                            <TextBlock FontSize="13" FontWeight="SemiBold" Foreground="#64748B">
                                                <Run Text="{lex:Loc Key=Common_HitType_Normal}" />
                                                <Run Text=" (" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text="{lex:Loc Key=Common_HitType_Normal}" FontSize="12" Foreground="#94A3B8" />
                                                <Run Text=")" FontSize="12" Foreground="#94A3B8" />
                                            </TextBlock>
                                            <TextBlock Grid.Column="1" FontSize="13" FontWeight="Bold" Foreground="#1E293B">
                                                <Run Text="{Binding NormalCount, StringFormat={}{0:N0}, RelativeSource={RelativeSource TemplatedParent}}" />
                                                <Run Text=" (" Foreground="#64748B" />
                                                <Run Text="{Binding NormalRate, StringFormat={}{0:P1}, RelativeSource={RelativeSource TemplatedParent}}" Foreground="#3B82F6" />
                                                <Run Text=")" Foreground="#64748B" />
                                            </TextBlock>
                                        </Grid>
                                        <Grid Grid.Row="1" Height="8">
                                            <Border Background="#F1F5F9" CornerRadius="4" />
                                            <Border Background="#3B82F6" CornerRadius="4" HorizontalAlignment="Left">
                                                <Border.Width>
                                                    <MultiBinding Converter="{StaticResource RateToWidthConverter}">
                                                        <Binding Path="NormalRate" RelativeSource="{RelativeSource TemplatedParent}" />
                                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource AncestorType=Grid, AncestorLevel=1}" />
                                                    </MultiBinding>
                                                </Border.Width>
                                            </Border>
                                        </Grid>
                                    </Grid>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
